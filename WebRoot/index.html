
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>太原理工大学天文望远镜虚拟仿真平台</title>
    <link rel="shortcut icon" href="mei.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">

    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" type="text/css" href="css/public.css">
    <script src="js/jquery.min.js"></script>
<script>
        (function(window) {
            if (window.navigator.userAgent.indexOf('compatible') != -1 || window.navigator.userAgent.indexOf("MSIE") > -1|| window.navigator.userAgent.indexOf("Trident") > -1|| window.navigator.userAgent.indexOf("rv:11") > -1) {
                var str = "你的浏览器版本太low了,已经和时代脱轨了 :)";
                var str2 =
                    "(推荐使用:<a href='https://www.baidu.com/s?ie=UTF-8&wd=%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8' target='_blank' style='color:blue;'>谷歌浏览器</a>," +
                    "<a href='https://www.baidu.com/s?ie=UTF-8&wd=%E7%81%AB%E7%8B%90%E6%B5%8F%E8%A7%88%E5%99%A8' target='_blank' style='color:blue;'>火狐浏览器</a>)" ;
                document.writeln(
                    "<pre style='text-align:center;line-height:1.8;font-size:20px;color:#fff;background-color:#1abb9c; height:100%;border:0;position:fixed;top:0;left:0;width:100%;z-index:1234'>" +
                    "<h2 style='padding-top:300px;margin:0'><strong>" + str + "<br/></strong></h2><h2>" +
                    str2 +
                    "</h2><h2 style='margin:0'><strong>如果你正在使用的是双核浏览器,请切换到极速模式访问,谢谢<br/></strong></h2></pre>");
                document.execCommand("Stop");
            }
            // if(window.navigator.userAgent.indexOf('AppleWebKit') != -1) {
            // 	alert('360极速模式');
            // }
        })(window);
    </script>
</head>

<body onload="_via_init()">
    <div id="app" v-cloak>
        <div class="aside-fixed-left">
            <div class="logo">
            </div>
            <div class="user">
                <div class="userImg">
                    <img src="images/touxiang.png" alt="">
                </div>
                <div class="userInfo">
                    <span class="fontsize14">Welcome,</span>
                     <span id="nameTipMsg" style="color:orange">游客</span>
                </div>
            </div>
            <aside>
                <ul class="asideMenu">
                    <li v-for="(item,index) in menuList" :class="selectedElementIndex==index?'is-opened':''" @click="getIframeSrc(item.hrefText,index)">
                        <i class="icon"></i>
                        <span>{{item.name}}</span>
                        <span class="icon_right">
                            <i class="el-icon-arrow-right"></i>
                        </span>
                    </li>
                </ul>
            </aside>
        </div>
        <div id="main">
            <div class="headNav">
                <div class="testBox clearfix">
                    <div class="labImg">
                        <el-carousel :interval="2000" arrow="always">
                            <el-carousel-item v-for="item in imgArr">
                                <img :src="item.imgSrc" alt="">
                            </el-carousel-item>
                        </el-carousel>
                        
                        <video width="400" height="200" controls autoplay>
                			<source src="video/video.mp4" type="video/ogg">
           				</video>
                    </div>
                    <div class="labInfo">
                        <div class="labName">光学望远镜成像实验</div>
                        <div class="labIntro"></div>
                        <ul class="labList">
                            <li>
                                <div class="label">实验简介：</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;本实验设计并实现了一个能够真实反映望远镜随外界环境变化产生像差的模型。以虚拟现实技术为手段，为学生提供了研究各类像差的环境。通过实验，学生可以掌握以下5个知识点。1.光学系统的波像差。2.光学系统的点扩散函数。3.望远镜成像原理。4.光学系统的形变和像差影响。5.相机的噪声模型。</div>
                            </li>
                            <li>
                                <div class="label">主要流程：</div>
                                <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;采用模块化教学模式，通过不同虚拟现实模块进行相应的学习。本实验分为教学视频模块，星空模块，望远镜模块。
1.教学视频模块。在虚拟课堂内向同学们介绍望远镜的发展历史、望远镜与人类之间的关系。
2.星空模块。通过星空漫游的形式，向同学们介绍望远镜的主要应用对象：对宇宙内的恒星和行星进行观测。
3.望远镜模块。介绍影响望远镜观测的主要因素：像差；指导学生控制望远镜模型，通过理论分析和尝试确定相机曝光时间等参数；学生自主使用图像处理方法获取图像内的恒星，分析恒星图像点扩散函数分布特征，研究望远镜形状变化对图像质量的影响；学生自主设置望远镜观测视场等系统参数及望远镜指向，获取大视场望远镜观测图像，安排学生自主分析图像点扩散函数变化特征和像差影响。
</div>
                            </li>
                            <li>
                                <div class="label">操作步骤：</div>
                                <div>共计（33）步。</div>
                            </li>
                            <br>
                            <li>
                                <div class="label">提交结果：</div>
                                <div>
                                	<input type="file" value="选择文件" id="upload-file">
    							</div>
                            </li>
							<div class="enterBox">
							<div>
								<p>
									<img src="images/zhuyi.png" />首次打开请
									点击下载<a href="files/TYUT_SmartOptics1.exe">仿真数据包</a>或<a href="files/TYUT_SmartOptics_VR.exe">虚拟(VR)数据包</a>，下载安装完毕请返回该页面点击进入实验
								</p>
							</div>
							</div>
							<div class="enterBox">
							<div>
								<div class="enter enter3">
									<a href="光学望远镜成像实验说明.pdf" target="_blank"></a>
								</div>
								<div class="enter enter2">
									<a href="acClient://" target="_blank" @mouseover="promptBox=true" @mouseout="promptBox=false"></a>
								</div>
								<div class="enter enter1" style="position: relative;">
<!-- @click="addrecordHandlerexe"-->
									<a href="acClient1://" target="_blank" ></a>
									<div v-show="promptBox" style=" position: absolute;right: -143px;top: 63px;font-size: 16px;color: #4da9f4;border: 1px solid;white-space: nowrap;
									padding: 4px;">当前在线人数<span style="color:red;">{{promptNum}}</span>人，没有超过200人，无需排队，请直接进入实验
									</div>
								</div>
								
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<input style="padding: 0.35em 0.6em;" type="button" value="提交数据" onclick="uploadFile();"/>
							<div class="enterBox">
								
								
							<div>	
							</div>
							
							</div>
							
							
                        </ul>
                    </div>
                 
                </div>
            </div>
            <iframe :src="iframeSrc" frameborder="0" id="iframe" name="ifrmname" scrolling="auto"></iframe>
        </div>


    </div>
    <!-- import Vue before Element -->
    <script src="js/vue.js"></script>
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <script src="./js/admin.js"></script>
    <script type="text/javascript">
    

    
    
    
function _via_init() {
  //show_message(VIA_NAME + ' (' + VIA_SHORT_NAME + ') version ' + VIA_VERSION + '. Ready !', 2*VIA_THEME_MESSAGE_TIMEOUT_MS);
  //show_home_panel();
  get_student_name();
  
}
    
    function uploadFile(){
    	var fileObj = document.getElementById("upload-file").files[0]; // 获取文件对象
    	//alert(fileObj);
		var FileController = "entityServlet1"; // 接收上传文件的后台地址
		 	
		if(fileObj){
			//alert(fileObj);
		 	// FormData 对象
	         	var form = new FormData();	
	         	form.append("file", fileObj);// 文件对象	
	
	         	// XMLHttpRequest 对象
	         	var xhr = new XMLHttpRequest();	
	         	xhr.open("POST", "savedata.do", true);
	         	xhr.send(form);
	         	alert("提交成功！");
	            
		}else{
				alert("未选择文件");
		}
		
	}
	
	
	function get_student_name(){ 
		// 此方法用于显示用户名
		var xhr = null;
		if(window.XMLHttpRequest){
			xhr = new XMLHttpRequest();
		}else{
			xhr = new ActiveXObject("Microsoft.XMLHTTP");
		}
		xhr.onreadystatechange = function(){
			if(xhr.readyState == 4){
				if(xhr.status == 200){
					var s = xhr.responseText;
					if(s == "null"){

						alert("你还没有登录，请先登录！！！");
						window.location.href="login.html";
					}else{
						var nameTipMsg = document.getElementById("nameTipMsg");
						nameTipMsg.innerHTML = xhr.responseText;
						get_student_id();
					}
					
				}else{
					alert("你还没有登录，请先登录！！！");
					window.location.href="login.html";
				}
			}
		}
		xhr.open("POST", "getname.do", true);
		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8");  
		xhr.send();  
	}

function get_student_id(){ 
		var xhr = null;
		if(window.XMLHttpRequest){
			xhr = new XMLHttpRequest();
		}else{
			xhr = new ActiveXObject("Microsoft.XMLHTTP");
		}
		xhr.onreadystatechange = function(){
			if(xhr.readyState == 4){
				if(xhr.status == 200){
					var s = xhr.responseText;
					if(s == "null"){
						alert("学号错误，请重新登录！！！");
						window.location.href="login.html";
					}else{
						var nameTipMsg = document.getElementById("nameTipMsg_id");
						nameTipMsg.innerHTML = xhr.responseText;
					}
					var nameTipMsg_id = document.getElementById("nameTipMsg_id");
					nameTipMsg_id.innerHTML = xhr.responseText;
					
				}else{
					alert("你还没有登录，请先登录！！！");
					window.location.href="login.html";
				}
			}
		}
		xhr.open("POST", "getid.do", true);
		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8"); 
		xhr.send(); 
	}
    </script>


</body>

</html>